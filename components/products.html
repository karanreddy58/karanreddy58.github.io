<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
      integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
      crossorigin="anonymous"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/styles.css" />
    <link rel="stylesheet" href="/assets/owl.carousel.min.css" />
    <link rel="stylesheet" href="/assets/owl.theme.default.min.css" />

    <!-- font awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />

    <title>products</title>
  </head>
  <body>
    <div class="products-container">
      <div class="products-section">
        <div class="title border-bottom text-center">
          SHOP
        </div>
        <div class="accessories title border-bottom text-center">
          ACCESSORIES
        </div>
        <div class="top-filter-border">
          <div class="container top-and-filters">
            <div class="top-count">Top (4 Products)</div>
            <div class="filters">
              <span class="sort-by-price">Sort by: Price (Low to High)</span>
              <span class="show-hide-filters"
                ><img class="mr-1" src="/assets/filter.png" alt="filter-icon" />
                Filters</span
              >
            </div>
          </div>
          <div class="filter-dropdown">
            <div class="container">
              <div class="row">
                <div class="col">filter items</div>
              </div>
            </div>
          </div>
        </div>
        <!-- products cards starts here -->
        <div class="container">
          <div class="grid-row">
            <div class="grid-item">
              <div class="grid-item-wrapper">
                <div class="grid-item-container">
                  <div class="product-card">
                    <div class="product-image text-center">
                      <span class="best-seller"
                        ><i class="fa fa-star" aria-hidden="true"></i
                      ></span>
                      <div class="product-list-images">
                        <div id="owlId" class="owl-carousel">
                          <img src="/assets/pd-1.webp" data-index="0" data-value="" />
                          <img src="/assets/pd-2.webp" data-index="1" data-value="Black" />
                          <img src="/assets/pd-3.webp" data-index="2" data-value="White" />
                          <img src="/assets/pd-4.webp" data-index="3" data-value="Black & White" />
                          <img
                            src="/assets/product.webp"
                            data-value=""
                          />
                        </div>
                      </div>
                    </div>
                    <div class="name-price-images">
                      <div class="product-info">
                        <h6 class="name">Winter Jacket</h6>
                        <h6 class="price">$99.99</h6>
                      </div>
                      <div class="product-colors">
                        <div class="action-options">
                          <div class="option-wrapper active">
                            <span
                              class="option-color"
                              style="background-color: black;"
                              data-value="Black"
                              data-position="1"
                              >&nbsp;</span
                            >
                          </div>
                          <div class="option-wrapper">
                            <span
                              class="option-color"
                              style="background-color: white;"
                              data-value="White"
                              data-position="1"
                              >&nbsp;</span
                            >
                          </div>
                          <div class="option-wrapper">
                            <span
                              class="option-color"
                              style="background-color: lightgray;"
                              data-value="Black & White"
                              data-position="1"
                              >&nbsp;</span
                            >
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="grid-item">
              <div class="grid-item-wrapper">
                <div class="grid-item-container">
                  <div class="product-card">
                    <div class="product-image text-center">
                      <span class="best-seller"
                        ><i class="fa fa-star" aria-hidden="true"></i
                      ></span>
                      <div class="product-list-images">
                        <div id="owlId" class="owl-carousel">
                          <img src="/assets/pd-1.webp" data-index="0" data-value="" />
                          <img src="/assets/pd-2.webp" data-index="1" data-value="Black" />
                          <img src="/assets/pd-3.webp" data-index="2" data-value="White" />
                          <img src="/assets/pd-4.webp" data-index="3" data-value="Black & White" />
                          <img
                            src="/assets/product.webp"
                            data-value=""
                          />
                        </div>
                      </div>
                    </div>
                    <div class="name-price-images">
                      <div class="product-info">
                        <h6 class="name">Winter Jacket</h6>
                        <h6 class="price">$99.99</h6>
                      </div>
                      <div class="product-colors">
                        <div class="action-options">
                          <div class="option-wrapper active">
                            <span
                              class="option-color"
                              style="background-color: black;"
                              data-value="Black"
                              data-position="1"
                              >&nbsp;</span
                            >
                          </div>
                          <div class="option-wrapper">
                            <span
                              class="option-color"
                              style="background-color: white;"
                              data-value="White"
                              data-position="1"
                              >&nbsp;</span
                            >
                          </div>
                          <div class="option-wrapper">
                            <span
                              class="option-color"
                              style="background-color: lightgray;"
                              data-value="Black & White"
                              data-position="1"
                              >&nbsp;</span
                            >
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="grid-item">
              <div class="grid-item-wrapper">
                <div class="grid-item-container">
                  <div class="product-card">
                    <div class="product-image text-center">
                      <span class="best-seller"
                        ><i class="fa fa-star" aria-hidden="true"></i
                      ></span>
                      <div class="product-list-images">
                        <div id="owlId" class="owl-carousel">
                          <img src="/assets/pd-1.webp" data-index="0" data-value="" />
                          <img src="/assets/pd-2.webp" data-index="1" data-value="Black" />
                          <img src="/assets/pd-3.webp" data-index="2" data-value="White" />
                          <img src="/assets/pd-4.webp" data-index="3" data-value="Black & White" />
                          <img
                            src="/assets/product.webp"
                            data-value=""
                          />
                        </div>
                      </div>
                    </div>
                    <div class="name-price-images">
                      <div class="product-info">
                        <h6 class="name">Winter Jacket</h6>
                        <h6 class="price">$99.99</h6>
                      </div>
                      <div class="product-colors">
                        <div class="action-options">
                          <div class="option-wrapper active">
                            <span
                              class="option-color"
                              style="background-color: black;"
                              data-value="Black"
                              data-position="1"
                              >&nbsp;</span
                            >
                          </div>
                          <div class="option-wrapper">
                            <span
                              class="option-color"
                              style="background-color: white;"
                              data-value="White"
                              data-position="1"
                              >&nbsp;</span
                            >
                          </div>
                          <div class="option-wrapper">
                            <span
                              class="option-color"
                              style="background-color: lightgray;"
                              data-value="Black & White"
                              data-position="1"
                              >&nbsp;</span
                            >
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="grid-item">
              <div class="grid-item-wrapper">
                <div class="grid-item-container">
                  <div class="product-card">
                    <div class="product-image text-center">
                      <span class="best-seller"
                        ><i class="fa fa-star" aria-hidden="true"></i
                      ></span>
                      <div class="product-list-images">
                        <div id="owlId" class="owl-carousel">
                          <img src="/assets/pd-1.webp" data-index="0" data-value="" />
                          <img src="/assets/pd-2.webp" data-index="1" data-value="Black" />
                          <img src="/assets/pd-3.webp" data-index="2" data-value="White" />
                          <img src="/assets/pd-4.webp" data-index="3" data-value="Black & White" />
                          <img
                            src="/assets/product.webp"
                            data-value=""
                          />
                        </div>
                      </div>
                    </div>
                    <div class="name-price-images">
                      <div class="product-info">
                        <h6 class="name">Winter Jacket</h6>
                        <h6 class="price">$99.99</h6>
                      </div>
                      <div class="product-colors">
                        <div class="action-options">
                          <div class="option-wrapper active">
                            <span
                              class="option-color"
                              style="background-color: black;"
                              data-value="Black"
                              data-position="1"
                              >&nbsp;</span
                            >
                          </div>
                          <div class="option-wrapper">
                            <span
                              class="option-color"
                              style="background-color: white;"
                              data-value="White"
                              data-position="1"
                              >&nbsp;</span
                            >
                          </div>
                          <div class="option-wrapper">
                            <span
                              class="option-color"
                              style="background-color: lightgray;"
                              data-value="Black & White"
                              data-position="1"
                              >&nbsp;</span
                            >
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="end-of-content text-center">That's all for now</div>
      </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
      integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
      crossorigin="anonymous"
    ></script>
    <script src="/assets/owl.carousel.min.js"></script>
    <script>
      $(document).ready(function () {
        $(".thumbnail-image").click((event) => {
          let thumbnailSiblings = event.target.parentElement.children;
          for (let item of thumbnailSiblings) {
            item.classList.remove("active");
          }
          event.target.classList.add("active");
          let target =
            event.target.parentElement.parentElement.previousElementSibling
              .lastElementChild.firstElementChild;
          let origin = event.target;
          target.src = origin.src;
        });
        $(".product-list-images .owl-carousel").owlCarousel({
          loop: false,
          dots: false,
          margin: 0,
          nav: true,
          items: 1,
          navText: [
            "<i class='fa fa-angle-left' aria-hidden='true'></i>",
            "<i class='fa fa-angle-right' aria-hidden='true'></i>",
          ],
        });
        // main image change on color change
        $(".product-colors .option-color").click((event) => {
          console.log(event.target);

          let childrens = event.target.parentElement.parentElement.children;
          for (let item of childrens) {
            item.classList.remove("active");
          }
          event.target.parentElement.classList.add("active");

          let value = event.target.attributes["data-value"]["value"];
          let position = event.target.attributes["data-position"]["value"];

          let imageContainer = $(event.target).closest(".product-card");
          console.log(imageContainer);
          let childs = imageContainer.find(".owl-item");
          console.log(childs);

          let matchItems = [];
          for (let item of childs) {
            item.classList.remove("active");
            if (
              item.firstElementChild.attributes["data-value"]["value"].indexOf(
                "/"
              ) >= 0
            ) {
              if (
                item.firstElementChildattributes["data-value"]["value"].indexOf(
                  value
                ) >= 0
              ) {
                matchItems.push(item);
              }
            } else {
              if (
                item.firstElementChild.attributes["data-value"]["value"] ===
                value
              ) {
                matchItems.push(item);
              }
            }
          }
          if (matchItems.length > 0) {
            matchItems[matchItems.length - 1].classList.add("active");
            imageContainer.find(".owl-carousel").trigger("to.owl.carousel", [+(matchItems[matchItems.length - 1].firstElementChild).getAttribute('data-index'), 1])
          }
        });
      });
    </script>
  </body>
</html>
